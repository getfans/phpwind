(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{286:function(t,e,a){"use strict";a.r(e);var s=a(37),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("This describes the resources that make up the official REST API. If you have any problems or requests, please contact "),a("a",{attrs:{href:"https://github.com/medz/fans/issues"}},[t._v("Fans Support")]),t._v(".")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#root-endpoint"}},[t._v("Root endpoint")])]),a("li",[a("a",{attrs:{href:"#schema"}},[t._v("Schema")])]),a("li",[a("a",{attrs:{href:"#authentication"}},[t._v("Authentication")]),a("ul",[a("li",[a("a",{attrs:{href:"#failed-login-limit"}},[t._v("Failed login limit")])]),a("li",[a("a",{attrs:{href:"#parameters"}},[t._v("Parameters")])])])]),a("li",[a("a",{attrs:{href:"#http-verbs"}},[t._v("HTTP verbs")]),a("ul",[a("li",[a("a",{attrs:{href:"#simulation"}},[t._v("Simulation")])])])]),a("li",[a("a",{attrs:{href:"#rate-limiting"}},[t._v("Rate limiting")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"root-endpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root-endpoint","aria-hidden":"true"}},[t._v("#")]),t._v(" Root endpoint")]),t._v(" "),a("p",[t._v("In the next document, "),a("code",[t._v(t._s(t.$site.themeConfig.env.APP_URL))]),t._v(" will be replaced with "),a("code",[t._v("{uri}")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schema","aria-hidden":"true"}},[t._v("#")]),t._v(" Schema")]),t._v(" "),a("p",[t._v("All API access is over HTTP(S), and accessed from "),a("code",[t._v(t._s(t.$site.themeConfig.env.APP_URL))]),t._v(". All data is sent and received as "),a("strong",[t._v("JSON")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/auth/me\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Transfer-Encoding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" chunked\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Cache-Control")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" private\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Content-Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" application/json\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Thu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 14 Feb 2019 14"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("32 GMT\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Keep-Alive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" timeout=38\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx/1.15.8\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Powered-By")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PHP/7.1.25\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Ratelimit-Limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Ratelimit-Remaining")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),t._v("\n")])])]),a("p",[t._v("Blank fields are included as null instead of being omitted.")]),t._v(" "),a("p",[t._v("All timestamps return in ISO 8601 format:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("YYYY-MM-DDTHH:MM:SSZ\n")])])]),a("h2",{attrs:{id:"authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication","aria-hidden":"true"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),a("p",[t._v("Sent in a header ways to authenticate through API. Requests that require authentication will return 404 Not Found, instead of 403 Forbidden, in some places. This is to prevent the accidental leakage of private data to unauthorized users.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -H "Authorization: Bearer ACCESS-TOKEN" {uri}\n')])])]),a("h3",{attrs:{id:"failed-login-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#failed-login-limit","aria-hidden":"true"}},[t._v("#")]),t._v(" Failed login limit")]),t._v(" "),a("p",[t._v("Authenticating with invalid credentials will return 401 Unauthorized:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("curl -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: Bearer ACCESS-TOKEN"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/auth/me\nHTTP/"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),t._v(" Unauthorized\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unauthenticated."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameters")]),t._v(" "),a("p",[t._v("Many API methods take optional parameters. For GET requests, any parameters not specified as a segment in the path can be passed as an HTTP query string parameter:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -i "{uri}/forum/threads?node=1"\n')])])]),a("p",[t._v("For POST, PATCH, PUT, and DELETE requests, "),a("strong",[t._v("parameters not included in the URL should be encoded as JSON")]),t._v(" with a Content-Type of "),a("code",[t._v("application/json")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"phone":"1878*****73", "international_telephone_code": "+86"}\'')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/auth/verify-code\n")])])]),a("h2",{attrs:{id:"http-verbs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-verbs","aria-hidden":"true"}},[t._v("#")]),t._v(" HTTP verbs")]),t._v(" "),a("p",[t._v("Where possible, API strives to use appropriate HTTP verbs for each action.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Verb")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("HEAD")])]),t._v(" "),a("td",[t._v("Can be issued against any resource to get just the HTTP header info.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("GET")])]),t._v(" "),a("td",[t._v("Used for retrieving resources.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("POST")])]),t._v(" "),a("td",[t._v("Used for creating resources.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("PATCH")])]),t._v(" "),a("td",[t._v("Used for updating resources with partial JSON data. For instance, an Thread resource has "),a("code",[t._v("title")]),t._v(" and "),a("code",[t._v("body")]),t._v(" attributes. A PATCH request may accept one or more of the attributes to update the resource. PATCH is a relatively new and uncommon HTTP verb, so resource endpoints also accept "),a("code",[t._v("POST")]),t._v(" requests.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("PUT")])]),t._v(" "),a("td",[t._v("Used for replacing resources or collections. For "),a("code",[t._v("PUT")]),t._v(" requests with no "),a("code",[t._v("body")]),t._v(" attribute, be sure to set the "),a("code",[t._v("Content-Length")]),t._v(" header to zero.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("DELETE")])]),t._v(" "),a("td",[t._v("Used for deleting resources.")])])])]),t._v(" "),a("h3",{attrs:{id:"simulation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simulation","aria-hidden":"true"}},[t._v("#")]),t._v(" Simulation")]),t._v(" "),a("p",[t._v("Sometimes the client environment supports the use of HTTP verbs, so all APIs support emulation using "),a("code",[t._v("POST")]),t._v(" verb passing. Use the "),a("code",[t._v("_method")]),t._v(" parameter to simulate the HTTP verb that needs to be simulated. E.g:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -i -d \'{"_method": "DELETE"}\' {uri}/comments/1\n')])])]),a("h2",{attrs:{id:"rate-limiting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rate-limiting","aria-hidden":"true"}},[t._v("#")]),t._v(" Rate limiting")]),t._v(" "),a("p",[t._v("The returned HTTP headers of any API request show your current rate limit status:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/users\nHTTP/1.1 200 OK\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Thu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 14 Feb 2019 14"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("32 GMT\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200 OK\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-RateLimit-Limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-RateLimit-Remaining")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),t._v("\n")])])])])},[],!1,null,null,null);e.default=r.exports}}]);